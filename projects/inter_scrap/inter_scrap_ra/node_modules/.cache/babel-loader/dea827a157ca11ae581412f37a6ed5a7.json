{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/home/raptor/Documents/2021/development/git/inter-scrap/inter_scrap_ra/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/raptor/Documents/2021/development/git/inter-scrap/inter_scrap_ra/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/raptor/Documents/2021/development/git/inter-scrap/inter_scrap_ra/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/raptor/Documents/2021/development/git/inter-scrap/inter_scrap_ra/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/raptor/Documents/2021/development/git/inter-scrap/inter_scrap_ra/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./App.css';// https://127.0.0.1:8000/\nvar API='/scrap/';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={itemReviews:[],search_string:''/* activeItem:{\n            id:null,\n            product:'',\n            customer:'',\n            heading:'',\n            rating:0,\n            comment:'',\n        }, */};//this.fetchReviews = this.fetchReviews.bind(this)\n_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.getCookie=_this.getCookie.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"getCookie\",value:function getCookie(name){var cookieValue=null;if(document.cookie&&document.cookie!==''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=cookies[i].trim();// Does this cookie string begin with the name we want?\nif(cookie.substring(0,name.length+1)===name+'='){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}return cookieValue;}/*\n  componentDidMount() {\n    this.fetchReviews();\n  }\n\n  fetchReviews(){\n    let url = 'https://127.0.0.1:8000/api/laptop'\n    console.log('Fetching...yes')\n    fetch(url + this.state.search_string)\n    .then(response => response.json())\n    .then(data =>\n      this.setState({\n        itemReviews:data\n      })\n    )\n  }\n*/},{key:\"handleChange\",value:function handleChange(e){var value=e.target.value;this.setState({search_string:value});// console.log(this.state.search_string)\n}/*\nfetch(API, {\n      method: 'POST',\n      headers: {\n       'content-type': 'application/json',\n       'X-CSRFToken': csrftoken,\n      },\n      //body: {\"search_string\": this.state.search_string}\n      body: JSON.stringify({search_string: this.state.search_string})\n    }).then(response => response.json())\n    .then(data =>\n      this.setState({\n        itemReviews:data\n      })\n    )\n\nfetch(url)\n    .then(response => response.json())\n    .then(data =>\n      this.setState({\n        itemReviews:data\n      })\n    )\n\n    headers: {\n       'content-type': 'application/json',\n       'X-CSRFToken': csrftoken,\n    },\n*/},{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;e.preventDefault();var keyword=this.state.search_string;// var csrftoken = this.getCookie('csrftoken')\nvar url=API+keyword.replace(\" \",\"\");//console.log('ITEM', (this.state.search_string).replace(\"%20\", \"\"))\nfetch(url).then(function(response){return response.json();}).then(function(data){return _this2.setState({itemReviews:data,search_string:''});}).then(function(data){return _this2.setState({itemReviews:[]});}).catch(function(error){console.log('ERROR:',error);});}},{key:\"render\",value:function render(){var reviews=this.state.itemReviews;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"form-wrapper\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:this.handleChange,className:\"form-control\",value:this.state.search_string,type:\"text\",placeholder:\"Search a product\",name:\"search_string\"}),/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-primary center-item\",type:\"submit\",placeholder:\"Search\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"review-wrapper flex-wrapper\",children:[/*#__PURE__*/_jsx(\"span\",{style:{flex:1},children:\"Product\"}),/*#__PURE__*/_jsx(\"span\",{style:{flex:1},children:\"Customer\"}),/*#__PURE__*/_jsx(\"span\",{style:{flex:1},children:\"Rating\"}),/*#__PURE__*/_jsx(\"span\",{style:{flex:1},children:\"heading\"}),/*#__PURE__*/_jsx(\"span\",{style:{flex:2},children:\"Comment\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"review-wrapper\",children:reviews.map(function(review,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"review-wrapper flex-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(\"span\",{children:review.product})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(\"span\",{children:review.customer})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(\"span\",{children:review.rating})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(\"span\",{children:review.heading})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:2},children:/*#__PURE__*/_jsx(\"span\",{children:review.comment})})]},index);})})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/raptor/Documents/2021/development/git/inter-scrap/inter_scrap_ra/src/App.js"],"names":["React","API","App","props","state","itemReviews","search_string","handleChange","bind","handleSubmit","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","e","value","target","setState","preventDefault","keyword","url","replace","fetch","then","response","json","data","catch","error","console","log","reviews","flex","map","review","index","product","customer","rating","heading","comment","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\n\n// https://127.0.0.1:8000/\nconst API = '/scrap/';\n\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n      this.state = {\n        itemReviews:[],\n        search_string:'',\n         /* activeItem:{\n            id:null,\n            product:'',\n            customer:'',\n            heading:'',\n            rating:0,\n            comment:'',\n        }, */\n      }\n      //this.fetchReviews = this.fetchReviews.bind(this)\n      this.handleChange = this.handleChange.bind(this)\n      this.handleSubmit = this.handleSubmit.bind(this)\n      this.getCookie = this.getCookie.bind(this)\n  };\n\n  getCookie(name) {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n/*\n  componentDidMount() {\n    this.fetchReviews();\n  }\n\n  fetchReviews(){\n    let url = 'https://127.0.0.1:8000/api/laptop'\n    console.log('Fetching...yes')\n    fetch(url + this.state.search_string)\n    .then(response => response.json())\n    .then(data =>\n      this.setState({\n        itemReviews:data\n      })\n    )\n  }\n*/\n\n  handleChange(e){\n    var value = e.target.value\n    this.setState({\n    search_string:value\n    })\n    // console.log(this.state.search_string)\n  }\n/*\nfetch(API, {\n      method: 'POST',\n      headers: {\n       'content-type': 'application/json',\n       'X-CSRFToken': csrftoken,\n      },\n      //body: {\"search_string\": this.state.search_string}\n      body: JSON.stringify({search_string: this.state.search_string})\n    }).then(response => response.json())\n    .then(data =>\n      this.setState({\n        itemReviews:data\n      })\n    )\n\nfetch(url)\n    .then(response => response.json())\n    .then(data =>\n      this.setState({\n        itemReviews:data\n      })\n    )\n\n    headers: {\n       'content-type': 'application/json',\n       'X-CSRFToken': csrftoken,\n    },\n*/\n  handleSubmit(e){\n    e.preventDefault()\n    let keyword = this.state.search_string\n    // var csrftoken = this.getCookie('csrftoken')\n    let url = API + keyword.replace(\" \", \"\")\n    //console.log('ITEM', (this.state.search_string).replace(\"%20\", \"\"))\n    fetch(url)\n    .then(response => response.json())\n    .then(data =>\n      this.setState({\n        itemReviews:data,\n        search_string:''\n      })\n    )\n    .then(data =>\n      this.setState({\n      itemReviews:[]\n      })\n    ).catch(function(error){\n      console.log('ERROR:', error)\n    })\n  }\n\n  render(){\n    var reviews = this.state.itemReviews\n      return (\n        <div className=\"container\">\n          <form onSubmit={this.handleSubmit} className=\"form-wrapper\">\n          <input onChange={this.handleChange} className=\"form-control\" value={this.state.search_string} type=\"text\" placeholder=\"Search a product\" name=\"search_string\"/>\n          <input className=\"btn btn-primary center-item\" type=\"submit\" placeholder=\"Search\"/>\n          </form>\n\n          <div className=\"review-wrapper flex-wrapper\"><span style={{flex: 1}}>Product</span>\n            <span style={{flex: 1}}>Customer</span><span style={{flex: 1}}>Rating</span>\n            <span style={{flex: 1}}>heading</span><span style={{flex: 2}}>Comment</span></div>\n\n          <div className=\"review-wrapper\">\n            {reviews.map(function(review, index){\n                return(\n                    <div key={index} className=\"review-wrapper flex-wrapper\">\n                        <div style={{flex: 1}}>\n                            <span>{review.product}</span>\n                        </div>\n                        <div style={{flex: 1}}>\n                            <span>{review.customer}</span>\n                        </div>\n                        <div style={{flex: 1}}>\n                            <span>{review.rating}</span>\n                        </div>\n                        <div style={{flex: 1}}>\n                            <span>{review.heading}</span>\n                        </div>\n                        <div style={{flex: 2}}>\n                            <span>{review.comment}</span>\n                        </div>\n                    </div>\n                )\n            })}\n          </div>\n        </div>\n      )\n    }\n  }\n\n  export default App"]},"metadata":{},"sourceType":"module"}