{% extends "data/layout.html" %}
{% block title %}Divisions{% endblock %}
{% block body %}
    <div class="container">
        <form class="d-flex" id="search-form" onsubmit="return search()">
        <input type="hidden" id="search-url" value="/api/divisions/">
        <input type="hidden" id="extra" value="&course={{course.id}}">
        <input class="form-control me-2" type="search" placeholder="Search" id="search-for" aria-label="Search">
        <button class="btn btn-outline-success" onclick="return search()">Search</button>
        </form>
        {% if user.is_superuser %}
        <form id="compose-form">
            <input type="hidden" id="post-url" value="/api/divisions/">
          <div class="mb-3">
              <label for="division" class="form-label">Division Name</label>
              <input class="form-control" id="division">
              <label for="roomno" class="form-label">Room No.</label>
              <input class="form-control" id="roomno">
              <input type="hidden" class="form-control" id="course" value="{{ course.id }}">
          </div>
          <button onclick="return addDivision()" class="btn btn-primary">Add Division</button>
        </form>
        {% endif %}
        <input type="hidden" id="delete-url" value="/api/division/">
        <div id="elements">
        {% for obj in division %}
        <div class="bg-light flex">
            <a class="text-dark" href="/division/{{obj.id}}">
              <span>Division: {{ obj.title }}</span>
              <span>Room no: {{ obj.room }}</span>
          </a>
          <button class="btn btn-danger" onclick="return deleteItem({{obj.id}})">Delete</button>
        </div>
        {% endfor %}
        </div>
    </div>
{% endblock %}